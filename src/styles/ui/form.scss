// ============================================================================
// SETTINGS - VARIÁVEIS E TOKENS
// ============================================================================

$input-sizes: pequeno, medio, grande;
$input-variants: outline, filled, ghost;
$contact-variants: default, social;

// ============================================================================
// TOOLS - MIXINS E FUNÇÕES
// ============================================================================

@mixin input-transition {
  @apply transition-all duration-200 ease-in-out;
}

@mixin input-focus {
  &:focus {
    @apply outline-none ring-2 ring-theme-primary ring-offset-2;
  }
}

@mixin input-disabled {
  @apply opacity-50 cursor-not-allowed pointer-events-none;
}

@mixin hover-lift-effect {
  @apply transform -translate-y-1;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

// ============================================================================
// COMPONENTS - INPUT SYSTEM
// ============================================================================

.input {
  @include input-transition;
  @include input-focus;
  @apply w-full border rounded-lg font-medium;

  &::placeholder {
    @apply text-theme-text opacity-50;
  }

  // Estados do input
  &--disabled {
    @include input-disabled;
  }

  &--error {
    @apply border-theme-error ring-theme-error ring-opacity-20;
  }
}

// ============================================================================
// INPUT - TAMANHOS
// ============================================================================

.input--pequeno {
  @apply px-3 py-2 text-sm;
}

.input--medio {
  @apply px-4 py-3 text-base;
}

.input--grande {
  @apply px-5 py-4 text-lg;
}

// ============================================================================
// INPUT - VARIANTES
// ============================================================================

.input--outline {
  @apply bg-transparent border-theme-border text-theme-text;

  &:hover {
    @apply border-theme-primary border-opacity-50;
  }
}

.input--filled {
  @apply bg-theme-surface border-transparent text-theme-text;

  &:hover {
    @apply bg-theme-surface bg-opacity-80;
  }
}

.input--ghost {
  @apply bg-transparent border-transparent text-theme-text;

  &:hover {
    @apply bg-theme-surface bg-opacity-50;
  }
}

// ============================================================================
// COMPONENTS - TEXTAREA
// ============================================================================

.textarea {
  @extend .input;
  @apply resize-y min-h-24 resize-none;

  // Opções de redimensionamento
  &--resize-none {
    @apply resize-none;
  }

  &--resize-vertical {
    @apply resize-y;
  }

  &--resize-horizontal {
    @apply resize-x;
  }

  &--resize-both {
    @apply resize;
  }

  // Estados específicos do textarea
  &--disabled {
    @include input-disabled;
  }

  &--error {
    @apply border-theme-error ring-theme-error ring-opacity-20;
  }
}

// Herança de tamanhos e variantes do input para textarea
@each $size in $input-sizes {
  .textarea--#{$size} {
    @extend .input--#{$size};
  }
}

@each $variant in $input-variants {
  .textarea--#{$variant} {
    @extend .input--#{$variant};
  }
}

// ============================================================================
// COMPONENTS - FORM FIELD
// ============================================================================

.form-field {
  @apply space-y-2;

  &__label {
    @apply block text-sm font-medium text-theme-text;
  }

  &__required {
    @apply text-theme-error ml-1;
  }

  &__input {
    @apply relative;
  }

  &__error {
    @apply text-sm text-theme-error;
  }

  // Estado de erro para todo o campo
  &--error {
    .form-field__label {
      @apply text-theme-error;
    }
  }
}

// ============================================================================
// COMPONENTS - CONTACT CARD
// ============================================================================

.contact-card {
  @apply p-4 rounded-lg border border-theme-border bg-theme-surface flex items-start gap-3;

  &__icon {
    @apply w-10 h-10 flex items-center justify-center rounded-lg flex-shrink-0;
  }

  &__content {
    @apply flex-1 space-y-1;
  }

  &__title {
    @apply text-sm font-medium text-theme-text;
  }

  &__value {
    @apply text-theme-text text-opacity-70;
  }

  // Estado interativo com hover e focus
  &--clickable {
    @apply cursor-pointer;

    &:hover {
      @apply bg-theme-surface bg-opacity-80 border-theme-primary border-opacity-30;
      @include hover-lift-effect;
    }

    &:focus-visible {
      @apply outline-none ring-2 ring-theme-primary ring-offset-2;
    }
  }

  // Variante padrão com cor primária
  &--default {
    .contact-card__icon {
      @apply bg-theme-primary bg-opacity-10 text-theme-primary;
    }

    &:hover {
      @apply border-theme-primary border-opacity-30;
    }
  }

  // Variante social com cor de destaque
  &--social {
    .contact-card__icon {
      @apply bg-theme-accent bg-opacity-10 text-theme-accent;
    }

    &:hover {
      @apply border-theme-accent border-opacity-30;

      .contact-card__icon {
        @apply bg-theme-accent bg-opacity-20;
      }
    }
  }
}
